#!/bin/bash

set -eu

main() {
  if [[ $# -ne 0 ]]; then
    echo "snippet takes no arguments."
    exit 1
  fi

  if [[ $(date +%w) -eq 1 ]]; then
    f="~/files/snippets/$(date +%Y-%m-%d).txt"
  else
    f="~/files/snippets/$(date --date='last Monday' +%Y-%m-%d).txt"
  fi

  vim "$f"
}

main "$@"
